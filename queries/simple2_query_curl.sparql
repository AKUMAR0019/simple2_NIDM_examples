curl -X POST http://localhost:8889/bigdata/sparql --data-urlencode 'query=prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> prefix prov: <http://www.w3.org/ns/prov#> prefix ndar: <https://ndar.nih.gov/api/datadictionary/v2/dataelement/> prefix fsl: <http://purl.org/nidash/fsl#> prefix nidm: <http://purl.org/nidash/nidm#> prefix onli: <http://neurolog.unice.fr/ontoneurolog/v3.0/instrument.owl#> prefix freesurfer: <https://surfer.nmr.mgh.harvard.edu/> prefix dx: <http://ncitt.ncit.nih.gov/Diagnosis> prefix ants: <http://stnava.github.io/ANTs/>  prefix dct: <http://purl.org/dc/terms/> prefix dctypes: <http://purl.org/dc/dcmitype/> prefix ncicb: <http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#> prefix ncit: <http://ncitt.ncit.nih.gov/> select distinct ?study ?ID ?Age ?dx ?Gender ?FIQ ?PIQ ?VIQ 	?tool ?softwareLabel ?federatedLabel ?laterality ?volume where { ?tool_act a prov:Activity ; prov:qualifiedAssociation [prov:agent [nidm:NIDM_0000164 ?tool]] ; prov:qualifiedAssociation [prov:agent [ndar:src_subject_id ?ID]] . ?tool_entity prov:wasGeneratedBy ?tool_act ; ?measure ?volume . ?measure a/rdfs:subClassOf* nidm:DataElement ; rdfs:label ?softwareLabel; nidm:measureOf <http://uri.interlex.org/base/ilx_0112559> ; nidm:datumType <http://uri.interlex.org/base/ilx_0738276> . OPTIONAL {?measure nidm:isAbout ?federatedLabel }. OPTIONAL {?measure nidm:hasLaterality ?laterality }. ?as_activity prov:qualifiedAssociation [prov:agent ?agent] ; dct:isPartOf/dct:isPartOf [dctypes:title ?study] . ?agent ndar:src_subject_id ?ID .  {?age_measure a nidm:DataElement ; nidm:isAbout ncicb:Age .} {?sex_measure a nidm:DataElement ; nidm:isAbout ndar:gender .}{?DX_measure a nidm:DataElement ; nidm:isAbout ncit:Diagnosis .}{?FIQ_measure a nidm:DataElement ; nidm:isAbout <https://github.com/dbkeator/nidm-local-terms/issues/2> .} {?PIQ_measure a nidm:DataElement ; nidm:isAbout <https://github.com/dbkeator/nidm-local-terms/issues/4> . } {?VIQ_measure a nidm:DataElement ; nidm:isAbout <https://github.com/dbkeator/nidm-local-terms/issues/3> .} ?as_entity prov:wasGeneratedBy ?as_activity ; ?age_measure ?Age; ?sex_measure ?GenderCoded ; ?FIQ_measure ?FIQ ; ?PIQ_measure  ?PIQ ; ?VIQ_measure ?VIQ ; ?DX_measure ?dx . bind(IF((?GenderCoded ="1" || ?GenderCoded ="Male"^^xsd:string), "Male"^^xsd:string,"Female"^^xsd:string) as ?Gender) . } order by ?study' -H 'Accept:application/x-turtle-RDR' > simple2_query_output2.csv

